<style>
  .signup.vcomp .page-body {
    width: 100%;
    height: 100%;
    background: white;
    font-size: 12px;
  }

  .signup.vcomp .page-body > .section {
    left: 0;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }

  .signup.vcomp .page-body > .section.top {
    /* height: 20%; */
  }

  .signup.vcomp .page-body > .section.middle {
    height: 80%;
    background: none;
    justify-content: flex-end;
  }

  .signup.vcomp .page-body > .section.bottom {
    height: 20%;
  }

  .signup.vcomp .page-body > .section.middle > .desc {
    width: 100%;
    text-align: center;
  }

  .signup.vcomp .page-body > .section.middle > .title.desc {
    margin-bottom: 2%;
    font-size: 20px;
  }

  .signup.vcomp .page-body > .section.middle > .subtitle.desc {
    margin-bottom: 10%;
    color: #CCCCCC;
  }

  .signup.vcomp .page-body > .section.middle > .agree.desc {
    margin: 20px;
    color: #CCCCCC;
  }

  .signup.vcomp .page-body > .section.middle > .signup.desc {
    margin-top: 9%;
    color: var(--color-dark);
    text-decoration: underline;
  }

  .signup.vcomp .page-body > .section.middle > .action {
    width: calc(100% - 64px);
    height: 50px;
    border-radius: 8px;
    box-sizing: border-box;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    margin-top: 20px;
  }

  .signup.vcomp .page-body > .section.middle > .action.signup {
    background: var(--color-dark);
    pointer-events: none;
    opacity: 0.2;
  }

  .signup.vcomp .page-body > .section.middle > .action.signup.active {
    pointer-events: auto;
    opacity: 1;
  }

  .signup.vcomp .page-body > .section.bottom > .tail {
    width: 100%;
    background: none;
    font-size: 11px;
    color: #CCCCCC;
    text-align: center;
  }

  .signup.vcomp .page-body > .section.bottom > .tail > .item {
    margin-left: 5px;
    margin-right: 5px;
    cursor: pointer;
  }


  .signup.vcomp .page-body > .section > .infobox {
    width: calc(100% - 64px);
    /* height: 100px; */
    font-size: 15px;
    /* background: lightblue; */
    border-radius: 8px;
    border: 1px solid #e4e4e4;
    box-sizing: border-box;
    margin: 10px;
  }

  .signup.vcomp .page-body > .section > .infobox > table {
    border-collapse: collapse;
    width: 100%;
    font-size: 14px;
  }

  .signup.vcomp .page-body > .section > .infobox > table td {
    box-sizing: border-box;
    position: relative;
    text-align: left;
    padding: 0;
    height: 40px;
    border-bottom: 1px solid #e4e4e4;
  }

  .signup.vcomp .page-body > .section > .infobox > table tr:last-child > td {
    border-bottom: none;
  }

  .signup.vcomp .page-body > .section > .infobox > table td > input {
    width: 100%;
    height: 100%;
    font-weight: bold;
    border: none;
    box-sizing: border-box;
    padding-right: 10px;
  }

  .signup.vcomp .page-body > .section > .infobox > table td > input:focus {
    outline: none;
  }

  .signup.vcomp .page-body > .section > .infobox > table td > input::placeholder {
    font-weight: normal;
    color: #333333;
  }

  .signup.vcomp .page-body > .section > .infobox > table td.head {
    padding-left: 15px;
    width: 120px;
    box-sizing: border-box;
    color: #777777;
  }

  .signup.vcomp .page-body > .section > .explain {
    font-size: 12px;
    color: #777777;
    width: 100%;
    /* text-align: center; */
    padding-left: 50px;
    padding-right: 50px;
    box-sizing: border-box;
    margin-top: 10px;
    line-height: 20px;
  }

  .signup.vcomp .page-body > .section > .conversation {
    position: relative;
    /* background: lightblue; */
    width: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    flex-direction: row;
    padding-left: 16px;
    padding-right: 16px;
    box-sizing: border-box;
    margin-top: 20px
  }

  .signup.vcomp .page-body > .section > .conversation > .who {
    width: 40px;
    height: 40px;
    /* background: orange; */
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .signup.vcomp .page-body > .section > .conversation > .who > img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 100px;
  }

  .signup.vcomp .page-body > .section > .conversation > .txt {
    /* background: lightgreen; */
    padding-left: 10px;
    width: calc(100% - 40px);
    box-sizing: border-box;
  }

  .signup.vcomp .page-body > .section > .conversation > .txt > .bubble {
    white-space: pre-line;
    padding: 10px;
    background: white;
    border-radius: 20px;
    box-sizing: border-box;
    box-shadow: 0px 0px 2px rgba(50, 50, 71, 0.08), 0px 4px 8px rgba(50, 50, 71, 0.06);
  }

  .signup.vcomp .page-body > .section > .conversation > .txt > .bubble > div {
    padding: 2px;
    box-sizing: border-box;
  }
</style>


<script type='text/x-template' id='signup-template'>
  <page
    class='signup vcomp'
    :order='session.page.signup.order'
    :open='session.page.signup.open'
    :from='session.page.signup.from'
    :hide_headerbar='true'
    @close='session.close_page()'>

    <template #page-body>
      <div class='section top'></div>

      <div class='section middle'>
        <div class='desc title'><b>íšŒì›ê°€ì…</b></div>
        <!-- <div class='desc subtitle'>ê°€ì…í•˜ê³  ë” ë§ì€ í™œë™ì„ í•´ë³´ì„¸ìš”</div> -->

        <div class='infobox'>
          <table>
            <tbody>
              <tr>
                <td class='head'>ì´ë¦„</td>
                <td><input v-model.trim='name' placeholder='' spellcheck='false'></td>
              </tr>

              <tr>
                <td class='head'>ì„±ë³„</td>
                <td>
                  <label><input type="radio" value="ë‚¨ì„±" v-model="gender"><b>ë‚¨ì„±</b></label>
                  <label><input type="radio" value="ì—¬ì„±" v-model="gender"><b>ì—¬ì„±</b></label>
                </td>
              </tr>

              <tr>
                <td class='head'>ìƒë…„ì›”ì¼</td>
                <td><input v-model.trim='birth' placeholder='' spellcheck='false' type='date'></td>
              </tr>

              <tr>
                <td class='head'>íœ´ëŒ€ë²ˆí˜¸(ì„ íƒ)</td>
                <td><input v-model.trim='mobile' placeholder='' spellcheck='false' @keyup='mobilenumber'></td>
              </tr>

              <tr>
                <td class='head'>ì£¼ì†Œ(ì„ íƒ)</td>
                <td><input v-model.trim='address' placeholder='' spellcheck='false'></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class='action signup' :class='{ active: nextable }' @click='goto_signupper'>ê°€ì…í•˜ê³  100P ë°›ê¸°</div>
        <div class='desc agree'>ì•½ê´€ì— ë™ì˜í•˜ê³  ê°€ì…í•©ë‹ˆë‹¤.</div>

        <div class='explain'>
          í¬ì¸íŠ¸ íšë“ì„ ìœ„í•´ì„œëŠ” ê¸°ë³¸ í”„ë¡œí•„ ì…ë ¥ì´ í•„ìˆ˜ ì…ë‹ˆë‹¤.
        </div>

        <div class='explain'>
          í”„ë¡œí•„ ì •ë³´ëŠ” ì°¸ì—¬ ì¡°ê±´ í™•ì¸ ë° ê²°ê³¼ ë¦¬í¬íŠ¸ì— ë°˜ì˜ë  ë¿ íšŒì›ë‹˜ì„ êµ¬ë³„í•  ìˆ˜ ìˆëŠ” ì •ë³´ëŠ” ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        </div>

        <div class='explain'>
          ëª¨ì´ë²„ëŠ” íšŒì›ë‹˜ì˜ ê°œì¸ ì •ë³´ë¥¼ ì§€í‚¤ê¸° ìœ„í•´ DID (Decentralized identifiers) ê¸°ìˆ ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
        </div>

        <div class='conversation'>
          <div class='who'>
            <img src='/static/materials/characters/avatar.jpg'>
          </div>
          <div class='txt'>
            <div class='bubble'>
              <div>íŒ¨ì…˜ ì„œë² ì´ ì°¸ì—¬ë¥¼ ìœ„í•´ì„œ ë‚´ ê¸°ë³¸ì •ë³´ ì…ë ¥ì´ í•„ìš”í•´ìš”.</div>
              <div>ğŸ‘‰ğŸ» ì´ë¦„/ì„±ë³„/ìƒë…„ì›”ì¼ì€ í•„ìˆ˜!
              ğŸ‘‰ğŸ» ì „í™”ë²ˆí˜¸/ì£¼ì†ŒëŠ” ì„ íƒì´ì§€ë§Œ ë˜í”Œì°¸ì—¬ë‚˜ í¬ì¸íŠ¸ì‡¼í•‘ ì‹œëŠ” ë‹¹ì—°íˆ í•„ìˆ˜ë‹ˆê¹Œ ë¯¸ë¦¬ë¯¸ë¦¬ ì…ë ¥í•´ ë‘ëŠ” ì„¼ìŠ¤!!</div>
              <div>ğŸ’‹ ì…ë ¥í•˜ë©´ 100Pë¥¼ ì¦‰ì‹œ ì§€ê¸‰í•©ë‹ˆë‹¤!</div>
            </div>
          </div>
        </div>

      </div>

      <div class='section bottom'>
        <div class='tail'>
          <span class='item' @click='session.open_about()'>íšŒì‚¬ì†Œê°œ</span>
          <span class='item' @click='session.open_landing()'>ì„œë¹„ìŠ¤ì†Œê°œ</span>
          <span class='item' @click='session.open_recruit()'>ì±„ìš©</span>
          <span class='item' @click='session.open_policy()'>ì•½ê´€</span>
          <span class='item' @click='session.open_privacy()'>ê°œì¸ì •ë³´ë³´í˜¸</span>
          <span class='item' @click='session.contact()'>ë¬¸ì˜</span>
        </div>
      </div>
    </template>
  </page>
</script>


<script>
  Vue.component('signup', {
    template: '#signup-template',
    delimiters: ['[[', ']]'],
    props: [ 'session' ],
    data: function() {
      return {
        name: '',
        gender: '',
        birth: '',
        mobile: '',
        address: '',
      }
    },

    computed: {
      nextable: function() {
        return (this.name != '') && (this.gender != '') && (this.birth != '')
      }
    },

    methods: {
      mobilenumber: function() {
        this.mobile = this.mobile.replace(/[^0-9]/g, "").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})$/,"$1-$2-$3").replace("--", "-");
      },

      goto_signupper: function() {
        const signupinfo = {
          name: this.name,
          gender: this.gender,
          birth: this.birth,
          mobile: this.mobile,
          address: this.address
        }
        // sessionStorage.setItem('name', this.name);
        // sessionStorage.setItem('gender', this.gender);
        // sessionStorage.setItem('birth', this.birth);
        // sessionStorage.setItem('mobile', this.mobile);
        // sessionStorage.setItem('address', this.address);
        sessionStorage.setItem('signupinfo', JSON.stringify(signupinfo));
        this.session.open_signupper();
      }
    }
  });
</script>
