<style>
  .posts.vcomp {
    width: 100%;
    height: 100%;
  }
</style>

<script type='text/x-template' id='posts-template'>
  <div class='posts vcomp'>
    <baseposts :session='session' :postlist='postlist' :posts='session.posts'></baseposts>
  </div>
</script>


<script>
  Vue.component('posts', {
    template: '#posts-template',
    delimiters: ['[[', ']]'],
    props: ['session'],
    data: function() {
      return {}
    },

    computed: {
      postlist: function() {
        if (!this.session.posts) {
          return []
        }

        if (this.session.auth) {
          this.session.posts.list.forEach(post => {
            if (this.session.auth.boo.id==post.boo.id) {
              post.boo = this.session.auth.boo;
            }
          });
        }

        return this.session.posts.list
      }
    }
  });
</script>
